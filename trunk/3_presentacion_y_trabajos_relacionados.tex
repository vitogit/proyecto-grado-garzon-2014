\chapter{Presentación y trabajos relacionados}

\section{Presentación}
\section{Formulación matemática}

\section{Por que usar algoritmo genéticos?}
El problema de sincronización de semáforos es NP-Hard y que
no existe (hasta el momento) un método determinístico que lo
resuelva, se buscará mediante algoritmos evolutivos llegar a
una configuración aceptable minimizando los tiempos de
espera de los automóviles, mejorando así la configuración
actual de los semáforos de la región más transitada del corredor
de Garzón.

\section{Estado del arte}
La investigación del estado del arte la realizamos con dos objetivos en mente el primero para analizar las distintas soluciones que existen actualmente para nuestro problema y el segundo para encontrar nuevas prácticas, algoritmos o utilidades que pudieran fortalecer nuestra solución.

El problema del tráfico optimizando las luces de los semáforos se puede resolver por muchos métodos como autómata celular, redes neuronales, fuzzy logic, redes de petri, sistema expertos o programación lineal por lo tanto la cantidad de soluciones encontradas fue abundante y variada por esto decidimos enfocarnos en soluciones lo más cercanas a la nuestra posible y en otras que tuvieran alguna particularidad interesante que nos gustaría destacar.


\begin{itemize}
	\begin{item}
		\bibentry{Sanchez2004}
		
		Este trabajo se basa en tres puntos: El uso de algoritmos genéticos para la optimización , simulación de autómatas celulares para la función de evaluación del tráfico, y un cluster para realizar ejecuciones en paralelo.
		El modelo es pequeño con 5 calles de 2 vías que se intersectan.
		La codificación del cromosoma es una tira de números enteros, donde se codifica para cada intersección cual calle esta habilitada en cada ciclo.
		Usa una estrategia de selección elitista donde los 2 mejores se clonan a la siguiente generación, y el resto es generado por cruzamiento de 2 puntos, ademas usa mutación variable dependiendo .
		
		Para la evaluación se usa el tiempo medio, esto es desde el momento que un vehículo entra en la red hasta que sale. Se utilizo un cluster y programación paralela utilizando MPI 2 con una estrategia master-slave, el master envía los cromosomas a los esclavos que evalúan y devuelven el resultado y luego el master se encarga de generar la siguiente población.
		
		Se compararon los resultados con una simulación aleatoria y con una fija, obteniendo la solución propuesta mejores resultados en todos los casos evaluados
		
		Este mismo grupo realizo trabajos similares expandiendo esta investigación, estos son:
	\end{item}

	\begin{item}
		\bibentry{Sanchez2008}
Lo interesante de este estudio es que se aplica lo expuesto en el trabajo anterior en un lugar real (Santa Cruz de Tenerife) para validar los resultados.
Algunas mejoras que se introdujeron fueron que el cromosoma se codifica utilizando como código Gray lo que dicen mejora el rendimiento en mutación y cruzamiento. La población inicial son nueve “soluciones” provistas por la alcaldía de la ciudad. Tanto la estrategia de selección como de cruzamiento y mutación  es similar al anterior trabajo

El modelo se discretizó quedando en 42 semáforos, 26 entradas y 20 salidas.
Las soluciones provistas por la alcaldía se simularon y se utilizo para comparar con los resultados obtenidos por el algoritmo que en términos generales logra un aumento del rendimiento de hasta 26%.

	\end{item}

	\begin{item}
		\bibentry{Sanchez2010}
Este trabajo es similar al anterior pero se destacan algunos cambios, por ejemplo se probaron 4 diferentes funciones de fitness: Cantidad de vehículos que llegaron a destino, Tiempo de viaje promedio, tiempo de ocupación promedio, velocidad promedio global.
También agrega medidas correspondientes al gas total emitido por los vehículos que tiene relación con la velocidad a la que van.
El modelo discretizado de la zona de “La Almozara” cuenta con 17 semáforos, 7 intersecciones, 16 entradas y 18 salidas.
Se simulo tanto un caso estándar como casos de alta congestión de trafico, las comparaciones se hacen respecto a las distintas funciones de fitness y los distintos escenarios planteados logrando buenos resultados.
	
	\end{item}
	
	\begin{item}
		\bibentry{Sanchez2007}
En esta tesis se conjugan varios de sus trabajos que ya comentamos, ampliando y profundizando en varios puntos.	
	\end{item}	

	\begin{item}
		\bibentry{Penner2002}
Este trabajo se centra en un modelo de simulación basado en enjambres, utilizando el programa SurJe[] para el mapa y la simulación. Luego se optimiza utilizando un algoritmo genético cuya función de fitness es el tiempo promedio de los vehículos dentro de la red. El cromosoma cuenta con la secuencia y duración de los semáforos, así como relación con los semáforos complementarios, la mutación tiene en cuenta esto para que no ocurra en una misma intersección 2 luces verdes. El cruzamiento se hace entre los distintos semáforos con una probabilidad mas alta si esta en la misma intersección.

El modelo cuenta con una ruta de 2 vías, con 3 carriles, y 3 intersecciones con 1 ruta de 2 vías y un solo carril.
Se comparan 3 escenarios distintos obteniendo mejoras significativas con respecto al inicio.

Luego se realiza otro escenario mas complejo de 28 semáforos  y 9 intersecciones logrando buenos rendimientos de hasta 26%.
	\end{item}	
	
	
	\begin{item}
		\bibentry{Stolfi2012}
Este trabajo se basa en el concepto de una ciudad inteligente enfocando en la movilidad inteligente ya que indica que los atascos del trafico provocan no solo perdidas económicas sino también contaminación ambiental.

Para ello propone utilizar un algoritmo inteligente que tomando en cuenta el estado de congestión de las rutas sugiere al usuario cual es la ruta mas rápida a su destino, utilizando un dispositivo en el automóvil que se enlazara por wifi con los semáforos (que cuentan con sensores). Por lo tanto el trabajo no se basa en la optimización de las señales de los semáforos existentes sino agrega encima de esto un sistema de búsqueda de mejor ruta.

Para el modelo utiliza una zona  de la ciudad de Málaga obtenido desde Open Street Map, cuenta con 8 entradas y 8 salidas , para la simulación utiliza SUMO. Los vehículos modelados son : turismo, monovolumen, furgoneta, camión donde se varia la longitud, velocidad y probabilidad que entre en la red de trafico.

Se intenta minimizar los tiempo de viaje de los vehículos que circulan por la red. Para ellos se utiliza un algoritmo genético cuya estrategia de selección consiste en tomar los 2 peores individuos y reemplazándolo por los 2 mejores hijos encontrados. En el cromosoma se representa cada sensor, con los destinos y rutas posibles. La función de fitness tiene en cuenta la cantidad de viajes completados durante el tiempo de ejecución, el tiempo medio utilizado, y el retraso medio. Se prueban varias estrategias de cruzamiento y mutación. Las ejecuciones tienen un tiempo fijo de duración.


Compara el resultado con una simulación por defecto realizada con el programa DuaRouter que viene con SUMO donde se generaron 64 itinerarios diferentes, esto se prueba en 3 escenarios diferentes. Las simulaciones se realiza hasta con 800 vehículos,se concluye que al aumentar la cantidad de vehículos (mas de 400) en el sistema la solución mejora sustancialmente el resultado base.

	\end{item}	
	
	
	\begin{item}
		\bibentry{Teo2010}
Este trabajo presenta un modelo simple con una sola intersección en donde se intenta optimizar los tiempos de los semáforos para lograr mejor rendimiento.El cromosoma representa los tiempos de la luces verdes, el cruzamiento toma 80 de información de un padre y 20 del otro. La función de fitness es el largo de las colas generadas. La simulación tiene un tiempo fijo de 600 segundos por generación pero no se detalla el tipo que se utilizo. Las conclusiones indican que la optimización usando algoritmos genéticos  es buena para el problema del flujo de trafico.	
	\end{item}	


	\begin{item}
		\bibentry{Montana1996}
Utiliza un enfoque adaptativo con sensores que analizan el trafico en tiempo real (un sensor para saber cuantos autos pasan y otro para saber que tan larga es la cola) tomando en consideración los cambios que se producen con respecto al caso promedio y cambiando los tiempos de las señales en forma acorde.
La premisa se basa en la inteligencia colectiva en donde agentes individuales realizan tareas simples que al interactuar producen resultados globales.

Se aplica programación genética mas específicamente STGP (strongly typed genetic programming [Montana, 1995]) que aprende el árbol de decisión que sera ejecutado por todas las intersecciones cuando decida el cambio de fase. Ademas un algoritmo genético híbrido busca diferentes contantes que serán usadas en los arboles de decisión, permitiendo una especialización en las diferentes geometría y flujo de trafico

La medida básica de efectividad en la función de evaluación es el “Delay” , esto es el total de tiempo perdido por causa de las señales de trafico. Se probaron 3 modelos distintos que tienen 4 intersecciones.
El simulador usado utiliza una versión especial de TRAF-NETSIM.

El experimento arroja buenos resultados en cuando a la performance de la red comparando con un ciclo fijo, y que presenta buena adaptabilidad en diferentes circunstancias. Marca el hecho de que el modelo es simple y de tamaño pequeño, y que es una incógnita como funcionara con problemas mas complejos.
	
	\end{item}	


	\begin{item}
		\bibentry{Vogel2000}

La solución utiliza un enfoque auto-adaptable para mejorar el trafico tanto en el corto como el largo plazo a través de la optimización de las señales de trafico en las intersecciones de una red de rutas. Al darle dinamismo a cada intersección se mejora el rendimiento de la red.

Destaca el hecho que dada una configuración de señalización aun siendo optimizada usando simulaciones es difícil que sea la mejor en todas las situaciones o en casos extremos (horas picos). Para solucionar esto proponen un sistema auto-adaptable que toma la información del trafico actual usando detectores de vehículos y de espacios.

Utiliza el concepto de fases para representar las distintas posibilidades en la señalización de la intersección, y cuanto tiempo debe permanecer en esa fase. Esto provoca que cuanto mas fases mas cantidad de secuencias son agregadas.
Utiliza algoritmos evolutivos donde cada individuo representa un sistema de fases junto con sus parámetros. usa. El fitness se obtiene simulando ese sistema en un modelo de trafico. Este modelo es relativamente pequeño una intersección con 4 brazos, cada uno con 3 lineas una de ellas para doblar a la izquierda, la del medio para ir derecho, y la restante para giros a la derecha. La ruta principal tiene el doble de densidad vehicular que la que la cruza.

El simulador utilizado esta basado SIMVAS++ []

Los resultados indican que la ventaja de usar conocimiento experto para configurar los parámetros iniciales es mínimo ya que llega muy rápido a resultados similares. Tanto la búsqueda de los mejores parámetros como en estructuras mas simples el algoritmo se comporta con buenos resultados.
		
	\end{item}	
	
	\begin{item}
		\bibentry{Rouphail2000}

Se estudia una pequeña red de trafico con 9 intersecciones con semáforos en la ciudad de Chicago( Usa), contando con parking, rutas de ómnibus y paradas así como con vehículos.  
Se toman valores reales en horas pico AM y PM, comprobando que las colas que se generan en la simulación coinciden con la realidad.
Usa el programa TRANSYT-7F[] ( Que permite visualizar mapas y contiene optimización de varios algoritmos genéticos.
% http://mctrans.ce.ufl.edu/mct/?page_id=943 ) y CORSIM  ( simulador pago http://www-mctrans.ce.ufl.edu/featured/TSIS/Version5/corsim.htm )
Se probaron 12 estrategias distintas en 7F y la mejor fue simulada en CORSIM[] 100 veces. Se midió el tiempo de demora en la red y el largo de las colas producidas
La performance de la red aumentó considerablemente usando este método	
	\end{item}	

\end{itemize}


\section{Resumen}
Existen variedad de soluciones propuestas al problema de la sincronización de semáforos y todas logran buenos resultados en mayor o menor medida.

\colorbox{yellow}{
Como se aprecia analizando el estado del arte nuestra implementación es mucho más compleja  que los trabajos analizados, estos tienen un alcance mucho menor en cuanto a cantidad de semáforos cantidad de Cruces menos de 30. Nuestro caso contamos con 70 semáforos 10 cruces principales y 40 intersecciones en calles menores.}